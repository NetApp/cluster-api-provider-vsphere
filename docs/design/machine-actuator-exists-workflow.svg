<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1302px" preserveAspectRatio="none" style="width:1563px;height:1302px;" version="1.1" viewBox="0 0 1563 1302" width="1563px" zoomAndPan="magnify"><defs><filter height="300%" id="f14313p10innwy" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><ellipse cx="783.5" cy="20" fill="#000000" filter="url(#f14313p10innwy)" rx="10" ry="10" style="stroke: none; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f14313p10innwy)" height="34.1328" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="125" x="721" y="50"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="105" x="731" y="71.6016">Machine controller</text><rect fill="#FEFECE" filter="url(#f14313p10innwy)" height="34.1328" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="263" x="652" y="148.1328"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="243" x="662" y="169.7344">Machine controller enqueues an Exists call</text><rect fill="#ADD8E6" filter="url(#f14313p10innwy)" height="34.1328" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="75" x="746" y="347.6982"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="55" x="756" y="369.2998">VM found</text><polygon fill="#FEFECE" filter="url(#f14313p10innwy)" points="696.5,299.2207,870.5,299.2207,882.5,311.2207,870.5,323.2207,696.5,323.2207,684.5,311.2207,696.5,299.2207" style="stroke: #A80036; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="18" x="787.5" y="333.8555">yes</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="174" x="696.5" y="315.3779">Can retrieve the machine's name</text><polygon fill="#FEFECE" filter="url(#f14313p10innwy)" points="783.5,401.8311,795.5,413.8311,783.5,425.8311,771.5,413.8311,783.5,401.8311" style="stroke: #A80036; stroke-width: 1.5;"/><polygon fill="#FEFECE" filter="url(#f14313p10innwy)" points="705.5,250.7432,861.5,250.7432,873.5,262.7432,861.5,274.7432,705.5,274.7432,693.5,262.7432,705.5,250.7432" style="stroke: #A80036; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="18" x="787.5" y="285.3779">yes</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="156" x="705.5" y="266.9004">Can retrieve the VM by MoRef</text><polygon fill="#FEFECE" filter="url(#f14313p10innwy)" points="783.5,445.8311,795.5,457.8311,783.5,469.8311,771.5,457.8311,783.5,445.8311" style="stroke: #A80036; stroke-width: 1.5;"/><polygon fill="#FEFECE" filter="url(#f14313p10innwy)" points="694.5,202.2656,872.5,202.2656,884.5,214.2656,872.5,226.2656,694.5,226.2656,682.5,214.2656,694.5,202.2656" style="stroke: #A80036; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="18" x="787.5" y="236.9004">yes</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="178" x="694.5" y="218.4229">Can find the VM by instance UUID</text><polygon fill="#FEFECE" filter="url(#f14313p10innwy)" points="783.5,489.8311,795.5,501.8311,783.5,513.8311,771.5,501.8311,783.5,489.8311" style="stroke: #A80036; stroke-width: 1.5;"/><polygon fill="#FEFECE" filter="url(#f14313p10innwy)" points="32,533.8311,95,533.8311,107,545.8311,95,557.8311,32,557.8311,20,545.8311,32,533.8311" style="stroke: #A80036; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="18" x="67.5" y="568.4658">yes</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="63" x="32" y="549.9883">VM is found</text><rect fill="#ADD8E6" filter="url(#f14313p10innwy)" height="34.1328" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="85" x="21" y="589.9658"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="65" x="31" y="611.5674">Return true</text><polygon fill="#FEFECE" filter="url(#f14313p10innwy)" points="965.25,533.8311,1076.25,533.8311,1088.25,545.8311,1076.25,557.8311,965.25,557.8311,953.25,545.8311,965.25,533.8311" style="stroke: #A80036; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="18" x="1024.75" y="568.4658">yes</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="111" x="965.25" y="549.9883">Machine has TaskRef</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="14" x="1088.25" y="543.5107">no</text><polygon fill="#FEFECE" filter="url(#f14313p10innwy)" points="950.75,589.9658,1090.75,589.9658,1102.75,601.9658,1090.75,613.9658,950.75,613.9658,938.75,601.9658,950.75,589.9658" style="stroke: #A80036; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="140" x="950.75" y="606.123">Can find task with TaskRef</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="18" x="920.75" y="599.6455">yes</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="14" x="1102.75" y="599.6455">no</text><polygon fill="#FEFECE" filter="url(#f14313p10innwy)" points="129,648.9658,262,648.9658,274,660.9658,262,672.9658,129,672.9658,117,660.9658,129,648.9658" style="stroke: #A80036; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="18" x="199.5" y="683.6006">yes</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="133" x="129" y="665.123">Task is running/pending</text><rect fill="#90EE90" filter="url(#f14313p10innwy)" height="34.1328" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="142" x="124.5" y="705.9209"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="122" x="134.5" y="727.5225">Return RequeueError</text><polygon fill="#FEFECE" filter="url(#f14313p10innwy)" points="476,648.9658,559,648.9658,571,660.9658,559,672.9658,476,672.9658,464,660.9658,476,648.9658" style="stroke: #A80036; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="18" x="521.5" y="683.6006">yes</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="83" x="476" y="665.123">Task is success</text><polygon fill="#FEFECE" filter="url(#f14313p10innwy)" points="405.5,705.9209,629.5,705.9209,641.5,717.9209,629.5,729.9209,405.5,729.9209,393.5,717.9209,405.5,705.9209" style="stroke: #A80036; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="224" x="405.5" y="722.0781">Task's associated MoRef is VirtualMachine</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="18" x="375.5" y="715.6006">yes</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="14" x="641.5" y="715.6006">no</text><rect fill="#EDF7DE" filter="url(#f14313p10innwy)" height="34.1328" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="163" x="302" y="739.9209"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="143" x="312" y="761.5225">Assign MoRef to Machine</text><rect fill="#EDF7DE" filter="url(#f14313p10innwy)" height="34.1328" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="199" x="284" y="809.0537"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="179" x="294" y="830.6553">Remove TaskRef from Machine</text><rect fill="#90EE90" filter="url(#f14313p10innwy)" height="34.1328" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="142" x="312.5" y="863.1865"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="122" x="322.5" y="884.7881">Return RequeueError</text><rect fill="#EDF7DE" filter="url(#f14313p10innwy)" height="34.1328" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="199" x="552" y="739.9209"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="179" x="562" y="761.5225">Remove TaskRef from Machine</text><rect fill="#FFC0CB" filter="url(#f14313p10innwy)" height="34.1328" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="156" x="573.5" y="809.0537"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="136" x="583.5" y="830.6553">Return InvalidTaskError</text><polygon fill="#FEFECE" filter="url(#f14313p10innwy)" points="517.5,903.3193,529.5,915.3193,517.5,927.3193,505.5,915.3193,517.5,903.3193" style="stroke: #A80036; stroke-width: 1.5;"/><polygon fill="#FEFECE" filter="url(#f14313p10innwy)" points="846,648.9658,915,648.9658,927,660.9658,915,672.9658,846,672.9658,834,660.9658,846,648.9658" style="stroke: #A80036; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="18" x="884.5" y="683.6006">yes</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="69" x="846" y="665.123">Task is failed</text><rect fill="#EDF7DE" filter="url(#f14313p10innwy)" height="34.1328" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="199" x="781" y="705.9209"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="179" x="791" y="727.5225">Remove TaskRef from Machine</text><rect fill="#90EE90" filter="url(#f14313p10innwy)" height="34.1328" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="142" x="809.5" y="775.0537"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="122" x="819.5" y="796.6553">Return RequeueError</text><polygon fill="#FEFECE" filter="url(#f14313p10innwy)" points="1039.5,648.9658,1159.5,648.9658,1171.5,660.9658,1159.5,672.9658,1039.5,672.9658,1027.5,660.9658,1039.5,648.9658" style="stroke: #A80036; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="18" x="1103.5" y="683.6006">yes</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="120" x="1039.5" y="665.123">Task is any other state</text><rect fill="#EDF7DE" filter="url(#f14313p10innwy)" height="34.1328" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="199" x="1000" y="705.9209"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="179" x="1010" y="727.5225">Remove TaskRef from Machine</text><rect fill="#FFC0CB" filter="url(#f14313p10innwy)" height="34.1328" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="184" x="1007.5" y="775.0537"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="164" x="1017.5" y="796.6553">Return InvalidTaskStateError</text><rect fill="#EDF7DE" filter="url(#f14313p10innwy)" height="34.1328" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="199" x="1227" y="623.9658"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="179" x="1237" y="645.5674">Remove TaskRef from Machine</text><rect fill="#90EE90" filter="url(#f14313p10innwy)" height="34.1328" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="142" x="1255.5" y="693.0986"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="122" x="1265.5" y="714.7002">Return RequeueError</text><polygon fill="#FEFECE" filter="url(#f14313p10innwy)" points="1020.75,953.3193,1032.75,965.3193,1020.75,977.3193,1008.75,965.3193,1020.75,953.3193" style="stroke: #A80036; stroke-width: 1.5;"/><rect fill="#FFC0CB" filter="url(#f14313p10innwy)" height="34.1328" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="89" x="1436" y="798.0986"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="69" x="1446" y="819.7002">Return false</text><rect fill="#EDF7DE" filter="url(#f14313p10innwy)" height="34.1328" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="259" x="654" y="1017.3193"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="239" x="664" y="1038.9209">Machine state patched back to API server</text><polygon fill="#FEFECE" filter="url(#f14313p10innwy)" points="783.5,104.1328,795.5,116.1328,783.5,128.1328,771.5,116.1328,783.5,104.1328" style="stroke: #A80036; stroke-width: 1.5;"/><polygon fill="#FEFECE" filter="url(#f14313p10innwy)" points="704,1071.4521,863,1071.4521,875,1083.4521,863,1095.4521,704,1095.4521,692,1083.4521,704,1071.4521" style="stroke: #A80036; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="159" x="704" y="1087.6094">Exists returned RequeueError</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="18" x="875" y="1081.1318">yes</text><polygon fill="#FEFECE" filter="url(#f14313p10innwy)" points="565.5,1138.4072,678.5,1138.4072,690.5,1150.4072,678.5,1162.4072,565.5,1162.4072,553.5,1150.4072,565.5,1138.4072" style="stroke: #A80036; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="18" x="626" y="1173.042">yes</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="113" x="565.5" y="1154.5645">Exists returned error</text><rect fill="#FFC0CB" filter="url(#f14313p10innwy)" height="34.1328" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="212" x="516" y="1195.3623"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="192" x="526" y="1216.9639">Error checking Machine existence</text><polygon fill="#FEFECE" filter="url(#f14313p10innwy)" points="760,1138.4072,867,1138.4072,879,1150.4072,867,1162.4072,760,1162.4072,748,1150.4072,760,1138.4072" style="stroke: #A80036; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="18" x="817.5" y="1173.042">yes</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="107" x="760" y="1154.5645">Exists returned true</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="14" x="879" y="1148.0869">no</text><rect fill="#ADD8E6" filter="url(#f14313p10innwy)" height="34.1328" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="104" x="761.5" y="1195.3623"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="84" x="771.5" y="1216.9639">Machine exists</text><rect fill="#FFC0CB" filter="url(#f14313p10innwy)" height="34.1328" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="152" x="899" y="1191.8848"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="132" x="909" y="1213.4863">Machine does not exist</text><ellipse cx="783.5" cy="1280.4951" fill="#FFFFFF" filter="url(#f14313p10innwy)" rx="11" ry="11" style="stroke: #000000; stroke-width: 1.0;"/><ellipse cx="783.5" cy="1280.4951" fill="#000000" rx="6" ry="6" style="stroke: #7F7F7F; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="783.5" x2="783.5" y1="30" y2="50"/><polygon fill="#A80036" points="779.5,40,783.5,50,787.5,40,783.5,44" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="783.5" x2="783.5" y1="323.2207" y2="347.6982"/><polygon fill="#A80036" points="779.5,337.6982,783.5,347.6982,787.5,337.6982,783.5,341.6982" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="882.5" x2="894.5" y1="311.2207" y2="311.2207"/><polygon fill="#A80036" points="890.5,354.7646,894.5,364.7646,898.5,354.7646,894.5,358.7646" style="stroke: #A80036; stroke-width: 1.5;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="894.5" x2="894.5" y1="311.2207" y2="413.8311"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="894.5" x2="795.5" y1="413.8311" y2="413.8311"/><polygon fill="#A80036" points="805.5,409.8311,795.5,413.8311,805.5,417.8311,801.5,413.8311" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="783.5" x2="783.5" y1="381.8311" y2="401.8311"/><polygon fill="#A80036" points="779.5,391.8311,783.5,401.8311,787.5,391.8311,783.5,395.8311" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="783.5" x2="783.5" y1="274.7432" y2="299.2207"/><polygon fill="#A80036" points="779.5,289.2207,783.5,299.2207,787.5,289.2207,783.5,293.2207" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="873.5" x2="904.5" y1="262.7432" y2="262.7432"/><polygon fill="#A80036" points="900.5,354.7646,904.5,364.7646,908.5,354.7646,904.5,358.7646" style="stroke: #A80036; stroke-width: 1.5;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="904.5" x2="904.5" y1="262.7432" y2="457.8311"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="904.5" x2="795.5" y1="457.8311" y2="457.8311"/><polygon fill="#A80036" points="805.5,453.8311,795.5,457.8311,805.5,461.8311,801.5,457.8311" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="783.5" x2="783.5" y1="425.8311" y2="445.8311"/><polygon fill="#A80036" points="779.5,435.8311,783.5,445.8311,787.5,435.8311,783.5,439.8311" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="783.5" x2="783.5" y1="226.2656" y2="250.7432"/><polygon fill="#A80036" points="779.5,240.7432,783.5,250.7432,787.5,240.7432,783.5,244.7432" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="884.5" x2="926.5" y1="214.2656" y2="214.2656"/><polygon fill="#A80036" points="922.5,354.7646,926.5,364.7646,930.5,354.7646,926.5,358.7646" style="stroke: #A80036; stroke-width: 1.5;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="926.5" x2="926.5" y1="214.2656" y2="501.8311"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="926.5" x2="795.5" y1="501.8311" y2="501.8311"/><polygon fill="#A80036" points="805.5,497.8311,795.5,501.8311,805.5,505.8311,801.5,501.8311" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="783.5" x2="783.5" y1="469.8311" y2="489.8311"/><polygon fill="#A80036" points="779.5,479.8311,783.5,489.8311,787.5,479.8311,783.5,483.8311" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="783.5" x2="783.5" y1="182.2656" y2="202.2656"/><polygon fill="#A80036" points="779.5,192.2656,783.5,202.2656,787.5,192.2656,783.5,196.2656" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="383.5" x2="383.5" y1="774.0537" y2="809.0537"/><polygon fill="#A80036" points="379.5,799.0537,383.5,809.0537,387.5,799.0537,383.5,803.0537" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="383.5" x2="383.5" y1="843.1865" y2="863.1865"/><polygon fill="#A80036" points="379.5,853.1865,383.5,863.1865,387.5,853.1865,383.5,857.1865" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="651.5" x2="651.5" y1="774.0537" y2="809.0537"/><polygon fill="#A80036" points="647.5,799.0537,651.5,809.0537,655.5,799.0537,651.5,803.0537" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="393.5" x2="383.5" y1="717.9209" y2="717.9209"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="383.5" x2="383.5" y1="717.9209" y2="739.9209"/><polygon fill="#A80036" points="379.5,729.9209,383.5,739.9209,387.5,729.9209,383.5,733.9209" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="641.5" x2="651.5" y1="717.9209" y2="717.9209"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="651.5" x2="651.5" y1="717.9209" y2="739.9209"/><polygon fill="#A80036" points="647.5,729.9209,651.5,739.9209,655.5,729.9209,651.5,733.9209" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="383.5" x2="383.5" y1="897.3193" y2="915.3193"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="383.5" x2="505.5" y1="915.3193" y2="915.3193"/><polygon fill="#A80036" points="495.5,911.3193,505.5,915.3193,495.5,919.3193,499.5,915.3193" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="651.5" x2="651.5" y1="843.1865" y2="915.3193"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="651.5" x2="529.5" y1="915.3193" y2="915.3193"/><polygon fill="#A80036" points="539.5,911.3193,529.5,915.3193,539.5,919.3193,535.5,915.3193" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="880.5" x2="880.5" y1="740.0537" y2="775.0537"/><polygon fill="#A80036" points="876.5,765.0537,880.5,775.0537,884.5,765.0537,880.5,769.0537" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1099.5" x2="1099.5" y1="740.0537" y2="775.0537"/><polygon fill="#A80036" points="1095.5,765.0537,1099.5,775.0537,1103.5,765.0537,1099.5,769.0537" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="195.5" x2="195.5" y1="672.9658" y2="705.9209"/><polygon fill="#A80036" points="191.5,695.9209,195.5,705.9209,199.5,695.9209,195.5,699.9209" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="195.5" x2="195.5" y1="740.0537" y2="947.3193"/><polygon fill="#A80036" points="191.5,937.3193,195.5,947.3193,199.5,937.3193,195.5,941.3193" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="517.5" x2="517.5" y1="672.9658" y2="705.9209"/><polygon fill="#A80036" points="513.5,695.9209,517.5,705.9209,521.5,695.9209,517.5,699.9209" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="517.5" x2="517.5" y1="927.3193" y2="947.3193"/><polygon fill="#A80036" points="513.5,937.3193,517.5,947.3193,521.5,937.3193,517.5,941.3193" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="880.5" x2="880.5" y1="672.9658" y2="705.9209"/><polygon fill="#A80036" points="876.5,695.9209,880.5,705.9209,884.5,695.9209,880.5,699.9209" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="880.5" x2="880.5" y1="809.1865" y2="947.3193"/><polygon fill="#A80036" points="876.5,937.3193,880.5,947.3193,884.5,937.3193,880.5,941.3193" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1099.5" x2="1099.5" y1="672.9658" y2="705.9209"/><polygon fill="#A80036" points="1095.5,695.9209,1099.5,705.9209,1103.5,695.9209,1099.5,699.9209" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1099.5" x2="1099.5" y1="809.1865" y2="947.3193"/><polygon fill="#A80036" points="1095.5,937.3193,1099.5,947.3193,1103.5,937.3193,1099.5,941.3193" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="274" x2="464" y1="660.9658" y2="660.9658"/><polygon fill="#A80036" points="454,656.9658,464,660.9658,454,664.9658,458,660.9658" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="571" x2="834" y1="660.9658" y2="660.9658"/><polygon fill="#A80036" points="824,656.9658,834,660.9658,824,664.9658,828,660.9658" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="927" x2="1027.5" y1="660.9658" y2="660.9658"/><polygon fill="#A80036" points="1017.5,656.9658,1027.5,660.9658,1017.5,664.9658,1021.5,660.9658" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="938.75" x2="195.5" y1="601.9658" y2="601.9658"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="195.5" x2="195.5" y1="601.9658" y2="648.9658"/><polygon fill="#A80036" points="191.5,638.9658,195.5,648.9658,199.5,638.9658,195.5,642.9658" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1171.5" x2="1213" y1="660.9658" y2="660.9658"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1213" x2="1213" y1="660.9658" y2="947.3193"/><polygon fill="#A80036" points="1209,937.3193,1213,947.3193,1217,937.3193,1213,941.3193" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="195.5" x2="1213" y1="947.3193" y2="947.3193"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1326.5" x2="1326.5" y1="658.0986" y2="693.0986"/><polygon fill="#A80036" points="1322.5,683.0986,1326.5,693.0986,1330.5,683.0986,1326.5,687.0986" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1102.75" x2="1326.5" y1="601.9658" y2="601.9658"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1326.5" x2="1326.5" y1="601.9658" y2="623.9658"/><polygon fill="#A80036" points="1322.5,613.9658,1326.5,623.9658,1330.5,613.9658,1326.5,617.9658" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="673" x2="673" y1="947.3193" y2="965.3193"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="673" x2="1008.75" y1="965.3193" y2="965.3193"/><polygon fill="#A80036" points="998.75,961.3193,1008.75,965.3193,998.75,969.3193,1002.75,965.3193" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1326.5" x2="1326.5" y1="727.2314" y2="965.3193"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1326.5" x2="1032.75" y1="965.3193" y2="965.3193"/><polygon fill="#A80036" points="1042.75,961.3193,1032.75,965.3193,1042.75,969.3193,1038.75,965.3193" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="63.5" x2="63.5" y1="557.8311" y2="589.9658"/><polygon fill="#A80036" points="59.5,579.9658,63.5,589.9658,67.5,579.9658,63.5,583.9658" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="63.5" x2="63.5" y1="624.0986" y2="997.3193"/><polygon fill="#A80036" points="59.5,987.3193,63.5,997.3193,67.5,987.3193,63.5,991.3193" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1020.75" x2="1020.75" y1="557.8311" y2="589.9658"/><polygon fill="#A80036" points="1016.75,579.9658,1020.75,589.9658,1024.75,579.9658,1020.75,583.9658" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1020.75" x2="1020.75" y1="977.3193" y2="997.3193"/><polygon fill="#A80036" points="1016.75,987.3193,1020.75,997.3193,1024.75,987.3193,1020.75,991.3193" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="107" x2="953.25" y1="545.8311" y2="545.8311"/><polygon fill="#A80036" points="943.25,541.8311,953.25,545.8311,943.25,549.8311,947.25,545.8311" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="783.5" x2="783.5" y1="513.8311" y2="518.8311"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="783.5" x2="63.5" y1="518.8311" y2="518.8311"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="63.5" x2="63.5" y1="518.8311" y2="533.8311"/><polygon fill="#A80036" points="59.5,523.8311,63.5,533.8311,67.5,523.8311,63.5,527.8311" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1088.25" x2="1480.5" y1="545.8311" y2="545.8311"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1480.5" x2="1480.5" y1="545.8311" y2="798.0986"/><polygon fill="#A80036" points="1476.5,788.0986,1480.5,798.0986,1484.5,788.0986,1480.5,792.0986" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1480.5" x2="1480.5" y1="832.2314" y2="997.3193"/><polygon fill="#A80036" points="1476.5,987.3193,1480.5,997.3193,1484.5,987.3193,1480.5,991.3193" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="63.5" x2="1480.5" y1="997.3193" y2="997.3193"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="783.5" x2="783.5" y1="997.3193" y2="1017.3193"/><polygon fill="#A80036" points="779.5,1007.3193,783.5,1017.3193,787.5,1007.3193,783.5,1011.3193" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="783.5" x2="783.5" y1="128.1328" y2="148.1328"/><polygon fill="#A80036" points="779.5,138.1328,783.5,148.1328,787.5,138.1328,783.5,142.1328" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="875" x2="1537" y1="1083.4521" y2="1083.4521"/><polygon fill="#A80036" points="1533,645.166,1537,635.166,1541,645.166,1537,641.166" style="stroke: #A80036; stroke-width: 1.5;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1537" x2="1537" y1="116.1328" y2="1083.4521"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1537" x2="795.5" y1="116.1328" y2="116.1328"/><polygon fill="#A80036" points="805.5,112.1328,795.5,116.1328,805.5,120.1328,801.5,116.1328" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="783.5" x2="783.5" y1="1051.4521" y2="1071.4521"/><polygon fill="#A80036" points="779.5,1061.4521,783.5,1071.4521,787.5,1061.4521,783.5,1065.4521" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="783.5" x2="783.5" y1="84.1328" y2="104.1328"/><polygon fill="#A80036" points="779.5,94.1328,783.5,104.1328,787.5,94.1328,783.5,98.1328" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="622" x2="622" y1="1162.4072" y2="1195.3623"/><polygon fill="#A80036" points="618,1185.3623,622,1195.3623,626,1185.3623,622,1189.3623" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="622" x2="622" y1="1229.4951" y2="1249.4951"/><polygon fill="#A80036" points="618,1239.4951,622,1249.4951,626,1239.4951,622,1243.4951" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="813.5" x2="813.5" y1="1162.4072" y2="1195.3623"/><polygon fill="#A80036" points="809.5,1185.3623,813.5,1195.3623,817.5,1185.3623,813.5,1189.3623" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="813.5" x2="813.5" y1="1229.4951" y2="1249.4951"/><polygon fill="#A80036" points="809.5,1239.4951,813.5,1249.4951,817.5,1239.4951,813.5,1243.4951" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="690.5" x2="748" y1="1150.4072" y2="1150.4072"/><polygon fill="#A80036" points="738,1146.4072,748,1150.4072,738,1154.4072,742,1150.4072" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="783.5" x2="622" y1="1123.4072" y2="1123.4072"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="622" x2="622" y1="1123.4072" y2="1138.4072"/><polygon fill="#A80036" points="618,1128.4072,622,1138.4072,626,1128.4072,622,1132.4072" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="879" x2="975" y1="1150.4072" y2="1150.4072"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="975" x2="975" y1="1150.4072" y2="1191.8848"/><polygon fill="#A80036" points="971,1181.8848,975,1191.8848,979,1181.8848,975,1185.8848" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="975" x2="975" y1="1226.0176" y2="1249.4951"/><polygon fill="#A80036" points="971,1239.4951,975,1249.4951,979,1239.4951,975,1243.4951" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="622" x2="975" y1="1249.4951" y2="1249.4951"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="783.5" x2="783.5" y1="1095.4521" y2="1123.4072"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="14" x="787.5" y="1116.9072">no</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="783.5" x2="783.5" y1="1249.4951" y2="1269.4951"/><polygon fill="#A80036" points="779.5,1259.4951,783.5,1269.4951,787.5,1259.4951,783.5,1263.4951" style="stroke: #A80036; stroke-width: 1.0;"/><!--
@startuml machine-actuator-exists-workflow

start;

:Machine controller;

repeat
  :Machine controller enqueues an Exists call;

  if (Can find the VM by instance UUID) then (yes)
    if (Can retrieve the VM by MoRef) then (yes)
      if (Can retrieve the machine's name) then (yes)
        #LightBlue:VM found;
      endif
    endif
  endif
  if (VM is found) then (yes)
    #LightBlue:Return true;
  elseif (Machine has TaskRef) then (yes)
    if (Can find task with TaskRef) then (yes)
      if (Task is running/pending) then (yes)
        #LightGreen:Return RequeueError;
      elseif (Task is success) then (yes)
        if (Task's associated MoRef is VirtualMachine) then (yes)
          #edf7de:Assign MoRef to Machine;
          #edf7de:Remove TaskRef from Machine;
          #LightGreen:Return RequeueError;
        else (no)
          #edf7de:Remove TaskRef from Machine;
          #Pink:Return InvalidTaskError;
        endif
      elseif (Task is failed) then (yes)
        #edf7de:Remove TaskRef from Machine;
        #LightGreen:Return RequeueError;
      elseif (Task is any other state) then (yes)
        #edf7de:Remove TaskRef from Machine;
        #Pink:Return InvalidTaskStateError;
      endif
    else (no)
      #edf7de:Remove TaskRef from Machine;
      #LightGreen:Return RequeueError;
    endif
  else (no)
    #Pink:Return false;
  endif
  #edf7de:Machine state patched back to API server;
repeat while (Exists returned RequeueError) is (yes)
-> no;
if (Exists returned error) then (yes)
  #Pink:Error checking Machine existence;
elseif (Exists returned true) then (yes)
  #LightBlue:Machine exists;
else (no)
  #Pink:Machine does not exist;
endif
stop;

@enduml

PlantUML version 1.2019.06(Fri May 24 12:10:25 CDT 2019)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Java Version: 1.8.0_191-b12
Operating System: Mac OS X
OS Version: 10.14.5
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>